<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui" xmlns:p="http://primefaces.org/ui">
<ui:composition template="/WEB-INF/plantillas/planPrincipal.xhtml">
	<ui:define name="contenido">
	
		<o:importConstants type="pe.gob.ocma.common.enums.Accion" />
			<div class="ui-widget-header contenido-cabecera">
			<h:form id="frmMenuUsuario">
				<div class="div-table" style="margin-top: 4px;">
					<div class="div-row">
						<div class="div-cell">
							<span class="ui-icon ui-icon-circle-check"></span>
						</div>
						<div class="div-cell">
							<p:commandLink value="Declaraciones juradas"
								action="/sistema/ddjj/djConsultas?faces-redirect=true"
								ajax="true"></p:commandLink>
						</div>
						<div class="div-cell">
							<span class="ui-icon ui-icon-triangle-1-e"></span>
						</div>
						<div class="div-cell">Administracion de Encargados</div>
					</div>
				</div>
			</h:form>
		</div>
		
		<div class="contenido-area-total" style="padding: 1px;">
	
		<h:form id="frmUsuarios">
		
		<p:fieldset legend="Reasignacion de Encargados de las Declaraciones Juradas" style="width: 700px; display: inline-block; vertical-align:bottom" styleClass="myFieldset">	       		
		<p:panelGrid id="pnlUsuarios" >			
        			<p:row>
        				<p:column style="width:150px">
        				<h:outputLabel id="lblUsuarioRes" 
								value="Usuario Encargado"></h:outputLabel>
        				</p:column>        					
        				<p:column style="width:100px">
        				
        					<p:selectOneMenu id="cboUsuariosIni"
								value="#{djEncargadosMBean.usuarioIni}"
								style="width: 100px">
								<f:selectItems value="#{djEncargadosMBean.listaUsuariosDj}" />
							</p:selectOneMenu>
							        						
        				</p:column>        				
        				
        				<p:column style="width:80px">
        				<h:outputLabel id="lblCantidad" 
								value="Cantidad"></h:outputLabel>
        				</p:column>        					
        				<p:column style="width:100px">        				  
        					<p:inputText id="txtCantidad"
								value="#{djEncargadosMBean.cantidad}" style="width: 50px;">
							</p:inputText>        						
        				</p:column>
        				
        				<p:column style="width:120px">
        				<h:outputLabel id="lblUsuarioDestino" 
								value="Usuario a Asignar"></h:outputLabel>
        				</p:column>        		
        				
        				<p:column style="width:100px">
        				<p:selectOneMenu id="cboUsuarioDestino"
								value="#{djEncargadosMBean.usuarioFin}"
								style="width: 100px">
								<f:selectItems value="#{djEncargadosMBean.listaUsuariosDj}" />
						</p:selectOneMenu>					
        				</p:column>
        				
        			</p:row>
        			
        			 
		</p:panelGrid>
		
		</p:fieldset>		
				<div style="position: relative; margin-left: 270px;">
					<p:commandButton value="#{msg['msgGuardar']}"
						actionListener="#{djEncargadosMBean.cambiarUsuarios}"
						update=":listaMensajes :frmTablaUsuarios:dataUsuario"						
						icon="ui-icon-disk"></p:commandButton>					
				</div>
		
		</h:form>
		

		<h:form id="frmTablaUsuarios">
			<h:panelGroup id="pnltabla">
				<table border="0" style="align: center; width: 50%">
					<tr>
						<td valign="top">
						  <p:dataTable var="item" value="#{djEncargadosMBean.listaUsuarios}" rows="20"
                         			paginator="true"
									id="dataUsuario">									
									<p:column headerText="Encargado" width="80">
										<h:outputText value="#{item.encargado}"></h:outputText>
									</p:column>
									<p:column headerText="Apellido Paterno" width="80">
										<h:outputText value="#{item.des_ap_paterno}"></h:outputText>
									</p:column>
									<p:column headerText="Apellido Materno" width="80">
										<h:outputText value="#{item.des_ap_materno}"></h:outputText>
									</p:column>
									<p:column headerText="Nombres" width="80">
										<h:outputText value="#{item.des_nombre}"></h:outputText>
									</p:column>									
									<p:column headerText="Cantidad" width="70">
										<h:outputText value="#{item.cantidad}"></h:outputText>
									</p:column>
								</p:dataTable>						  
						 </td>						
					</tr>					
				</table>
			</h:panelGroup>
			
			
						 
		</h:form>
		
		
		
		</div>
	</ui:define>
</ui:composition>
</html>